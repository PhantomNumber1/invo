import{s as K,n as H,r as L}from"../chunks/scheduler.D9a1m4Jg.js";import{S as Q,i as X,e as u,s as b,c as p,d as E,g as S,h as w,m as J,n as r,j as Y,k as t,o as T,p as I,w as Z}from"../chunks/index.BuLmxrIS.js";import"../chunks/index.DQfRr7yB.js";function $(o){let v,i,_,g,l,d,C="Please enter the credentials.",h,e,c,j,f,k,m,q,s,O,y,B,D,V,N,M="Send OTP",F,U,A="Submit",G,W;return{c(){v=u("main"),i=u("div"),_=u("div"),g=b(),l=u("div"),d=u("p"),d.textContent=C,h=b(),e=u("form"),c=u("input"),j=b(),f=u("input"),k=b(),m=u("input"),q=b(),s=u("input"),O=b(),y=u("input"),B=b(),D=u("br"),V=b(),N=u("button"),N.textContent=M,F=b(),U=u("button"),U.textContent=A,this.h()},l(a){v=p(a,"MAIN",{class:!0});var P=E(v);i=p(P,"DIV",{class:!0});var z=E(i);_=p(z,"DIV",{class:!0}),E(_).forEach(S),g=w(z),l=p(z,"DIV",{class:!0});var R=E(l);d=p(R,"P",{"data-svelte-h":!0}),J(d)!=="svelte-qatj49"&&(d.textContent=C),h=w(R),e=p(R,"FORM",{});var n=E(e);c=p(n,"INPUT",{type:!0,placeholder:!0}),j=w(n),f=p(n,"INPUT",{type:!0,placeholder:!0}),k=w(n),m=p(n,"INPUT",{type:!0,placeholder:!0}),q=w(n),s=p(n,"INPUT",{type:!0,placeholder:!0}),O=w(n),y=p(n,"INPUT",{type:!0,placeholder:!0}),B=w(n),D=p(n,"BR",{}),V=w(n),N=p(n,"BUTTON",{type:!0,"data-svelte-h":!0}),J(N)!=="svelte-1nmjx6v"&&(N.textContent=M),F=w(n),U=p(n,"BUTTON",{type:!0,"data-svelte-h":!0}),J(U)!=="svelte-1ou7dtz"&&(U.textContent=A),n.forEach(S),R.forEach(S),z.forEach(S),P.forEach(S),this.h()},h(){r(_,"class","background svelte-2hzcd"),r(c,"type","text"),r(c,"placeholder","Username"),c.required=!0,r(f,"type","email"),r(f,"placeholder","Email"),f.required=!0,r(m,"type","password"),r(m,"placeholder","Password"),m.required=!0,r(s,"type","password"),r(s,"placeholder","Repeat Password"),s.required=!0,r(y,"type","text"),r(y,"placeholder","OTP"),y.required=!0,r(N,"type","button"),r(U,"type","submit"),r(l,"class","box svelte-2hzcd"),r(i,"class","container svelte-2hzcd"),r(v,"class","svelte-2hzcd")},m(a,P){Y(a,v,P),t(v,i),t(i,_),t(i,g),t(i,l),t(l,d),t(l,h),t(l,e),t(e,c),T(c,o[1]),t(e,j),t(e,f),T(f,o[4]),t(e,k),t(e,m),T(m,o[2]),t(e,q),t(e,s),T(s,o[3]),t(e,O),t(e,y),T(y,o[0]),t(e,B),t(e,D),t(e,V),t(e,N),t(e,F),t(e,U),G||(W=[I(c,"input",o[7]),I(f,"input",o[8]),I(m,"input",o[9]),I(s,"input",o[10]),I(y,"input",o[11]),I(N,"click",o[5]),I(e,"submit",Z(o[6]))],G=!0)},p(a,[P]){P&2&&c.value!==a[1]&&T(c,a[1]),P&16&&f.value!==a[4]&&T(f,a[4]),P&4&&m.value!==a[2]&&T(m,a[2]),P&8&&s.value!==a[3]&&T(s,a[3]),P&1&&y.value!==a[0]&&T(y,a[0])},i:H,o:H,d(a){a&&S(v),G=!1,L(W)}}}function x(o,v,i){let _="",g="",l="",d="",C="",h="";const e=async()=>{if(l===d){const s=await fetch("https://30c1-122-172-81-83.ngrok-free.app/api/sendOTP",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:C,username:g})}),O=await s.json();s.ok?(h="OTP Generated successfully!",alert(O.message)):(h=O.error||"OTP Generation Failed, Check email",alert(O.message))}else h="Passwords do not match",alert(h)},c=async()=>{if(l===d){const s=await fetch("http://localhost:5000/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:g,email:C,password:l,OTP:_})}),O=await s.json();s.ok?h="User registered successfully!":(h=O.error||"Registration failed",alert("Wrong OTP"))}else h="Passwords do not match",alert(h)};function j(){g=this.value,i(1,g)}function f(){C=this.value,i(4,C)}function k(){l=this.value,i(2,l)}function m(){d=this.value,i(3,d)}function q(){_=this.value,i(0,_)}return[_,g,l,d,C,e,c,j,f,k,m,q]}class ae extends Q{constructor(v){super(),X(this,v,x,$,K,{})}}export{ae as component};
